# お絵描き当てゲーム 画面設計書

## 📱 画面一覧

### 1. トップページ
- プレイヤー名入力欄
- ルーム作成ボタン
- ルーム参加フォーム
  - ルームID/URL入力欄
  - 参加ボタン

### 2. ルーム作成画面
- ルーム設定フォーム
  - 制限時間設定（秒単位、無制限オプション）
  - ラウンド数設定
  - 作成ボタン
- 作成後のルーム情報表示
  - ルームID/URL
  - 共有ボタン
  - 開始ボタン

### 3. ルーム待機画面
- 参加者一覧
  - プレイヤー名
  - 準備状態
- チャットエリア
  - メッセージ表示
  - メッセージ入力フォーム
- 開始ボタン（管理者のみ）

### 4. ゲーム画面
#### 4.1 出題者画面
- お題表示エリア
- 題材入力フォーム
- 描画キャンバス
  - 描画ツール
    - ペン
    - 消しゴム
    - 色選択
    - 太さ調整
  - クリアボタン
- 残り時間表示
- チャットエリア
  - メッセージ表示
  - メッセージ入力フォーム

#### 4.2 回答者画面
- 描画キャンバス（出題者の描画をリアルタイム表示）
- 回答入力フォーム
- 残り時間表示
- チャットエリア
  - メッセージ表示
  - メッセージ入力フォーム

### 5. 結果表示画面
- ラウンド結果
  - 正解者
  - 獲得ポイント
- スコアボード
  - プレイヤー名
  - 合計ポイント
- 次のラウンド開始ボタン
- ゲーム終了ボタン

### 6. ゲーム終了画面
- 最終結果
  - 順位
  - プレイヤー名
  - 合計ポイント
- 新しいゲーム開始ボタン
- トップページに戻るボタン

## 🎨 UI/UX ガイドライン

### カラーパレット
- メインカラー: #4A90E2（青）
- アクセントカラー: #F5A623（オレンジ）
- 背景色: #F8F9FA（薄いグレー）
- テキスト: #333333（濃いグレー）

### フォント
- 見出し: Noto Sans JP Bold
- 本文: Noto Sans JP Regular
- サイズ
  - 見出し: 24px
  - サブ見出し: 20px
  - 本文: 16px
  - 小さいテキスト: 14px

### レスポンシブ対応
- デスクトップ: 1200px以上
- タブレット: 768px - 1199px
- モバイル: 767px以下

### アニメーション
- 画面遷移: フェードイン/アウト
- ボタン: ホバー時のスケール
- 正解時: 祝福アニメーション
- 描画: スムーズな描画表示

## 🔄 画面遷移フロー

1. トップページ
   - → ルーム作成画面
   - → ルーム待機画面（ルーム参加時）

2. ルーム作成画面
   - → ルーム待機画面

3. ルーム待機画面
   - → ゲーム画面（開始時）

4. ゲーム画面
   - → 結果表示画面（ラウンド終了時）
   - → ゲーム終了画面（全ラウンド終了時）

5. 結果表示画面
   - → ゲーム画面（次のラウンド）
   - → ゲーム終了画面（全ラウンド終了時）

6. ゲーム終了画面
   - → トップページ
   - → ルーム作成画面（新しいゲーム）

## 🔄 画面動作詳細

### 1. トップページ
#### 動作
- プレイヤー名入力欄
  - 必須入力、未入力時はエラー表示
  - ルーム作成・参加時にサーバーへ送信
- ルーム作成ボタン
  - クリック時：ルーム作成画面に遷移（プレイヤー名も送信）
- ルーム参加フォーム
  - ルームID/URL入力欄
    - 入力値のバリデーション（必須入力、形式チェック）
  - 参加ボタン
    - クリック時：プレイヤー名・ルームIDの検証
    - 成功時：ルーム待機画面に遷移
    - 失敗時：エラーメッセージを表示

### 2. ルーム作成画面
#### 動作
- ルーム設定フォーム
  - 制限時間設定
    - 数値入力（30-300秒）
    - 必須入力
    - 範囲外の場合はエラー表示
  - ラウンド数設定
    - 数値入力（1-10ラウンド）
    - 必須入力
    - 範囲外の場合はエラー表示
  - 作成ボタン
    - クリック時：入力値の検証
    - 成功時：ルーム情報を表示
- ルーム情報表示
  - ルームID/URL
    - 自動生成
    - コピーボタン付き
  - 共有ボタン
    - クリック時：共有ダイアログを表示
  - 開始ボタン
    - クリック時：ルーム待機画面に遷移

### 3. ルーム待機画面
#### 動作
- 参加者一覧
  - リアルタイム更新
  - プレイヤー名表示
  - 準備状態表示
    - 準備完了/未完了の切り替え
- チャットエリア
  - メッセージ表示
    - リアルタイム更新
    - スクロール自動追従
  - メッセージ入力フォーム
    - 入力値のバリデーション
    - 送信ボタン
      - クリック時：メッセージを送信
- 開始ボタン（管理者のみ）
  - クリック時：参加者2人以上でゲーム開始
  - 参加者不足時：エラーメッセージを表示

### 4. ゲーム画面
#### 4.1 出題者画面
##### 動作
- お題入力
  - 入力フォーム
    - バリデーション（必須入力、文字数制限）
  - 決定ボタン
    - クリック時：お題を確定
    - 確定後：描画キャンバスを有効化
- 描画キャンバス
  - 描画ツール
    - ペン
      - 色選択
      - 太さ調整
    - 消しゴム
    - クリアボタン
  - 描画データ
    - リアルタイムで回答者に送信
- 残り時間表示
  - カウントダウン表示
  - 残り30秒で警告表示
- チャットエリア
  - メッセージ表示
  - メッセージ入力
- スコア表示
  - リアルタイム更新

#### 4.2 回答者画面
##### 動作
- 描画キャンバス
  - 出題者の描画をリアルタイム表示
  - 表示のみ（操作不可）
- 回答入力フォーム
  - 入力値のバリデーション
  - 送信ボタン
    - クリック時：回答を送信
    - 正解時：祝福アニメーション表示
    - 不正解時：エラーメッセージ表示
- 残り時間表示
  - カウントダウン表示
  - 残り30秒で警告表示
- チャットエリア
  - メッセージ表示
  - メッセージ入力
- スコア表示
  - リアルタイム更新

### 5. 結果表示画面
#### 動作
- ラウンド結果
  - 正解者表示
  - 獲得ポイント表示
  - アニメーション表示
- スコアボード
  - プレイヤー名
  - 合計ポイント
  - 順位表示
- 次のラウンド開始ボタン
  - クリック時：次のラウンドを開始
- ゲーム終了ボタン
  - クリック時：ゲーム終了画面に遷移

### 6. ゲーム終了画面
#### 動作
- 最終結果
  - 順位表表示
    - プレイヤー名
    - 合計ポイント
    - 順位
  - 表彰アニメーション
- ギャラリー
  - 絵のサムネイル表示
  - お題と作者名表示
  - クリック時：拡大表示
  - 保存ボタン
    - クリック時：画像を保存
- 新しいゲーム開始ボタン
  - クリック時：ルーム作成画面に遷移
- トップページに戻るボタン
  - クリック時：トップページに遷移

## ⚠️ エラー処理
- ネットワークエラー
  - 再接続の試行
  - エラーメッセージの表示
- 入力値エラー
  - バリデーションメッセージの表示
  - 入力フォームのハイライト
- タイムアウト
  - 警告メッセージの表示
  - 自動リロードの提案

## 🔄 画面遷移時の処理
- データの保存
  - ゲーム状態の保存
  - スコアの保存
  - チャット履歴の保存
- アニメーション
  - フェードイン/アウト
  - スライド
- ローディング表示
  - 画面遷移中の表示
  - プログレスバー

## 📐 ワイヤーフレーム

### 1. トップページ
```
+------------------------------------------+
|                                          |
|  +------------------------------------+  |
|  |          お絵描き当てゲーム          |  |
|  +------------------------------------+  |
|                                          |
|  プレイヤー名: [                  ]      |
|                                          |
|  +------------------------------------+  |
|  |           ルームを作成              |  |
|  +------------------------------------+  |
|                                          |
|  +------------------------------------+  |
|  | ルームID/URL: [                  ]  |  |
|  |                                    |  |
|  |           参加する                  |  |
|  +------------------------------------+  |
|                                          |
+------------------------------------------+
```

### 2. ルーム作成画面
```
+------------------------------------------+
|                                          |
|  +------------------------------------+  |
|  |           ルーム設定                |  |
|  +------------------------------------+  |
|                                          |
|  制限時間: [    ] 秒                     |
|  （30秒～300秒）                         |
|                                          |
|  ラウンド数: [    ] ラウンド             |
|  （1～10ラウンド）                       |
|                                          |
|  +------------------------------------+  |
|  |           ルームを作成              |  |
|  +------------------------------------+  |
|                                          |
|  ルームID: XXXXX                         |
|  URL: https://...                        |
|                                          |
|  +------------------------------------+  |
|  |           共有する                  |  |
|  +------------------------------------+  |
|                                          |
|  +------------------------------------+  |
|  |           開始する                  |  |
|  +------------------------------------+  |
|                                          |
+------------------------------------------+
```

### 3. ルーム待機画面
```
+------------------------------------------+
|                                          |
|  +----------------+  +----------------+  |
|  |   参加者一覧    |  |    チャット     |  |
|  |                |  |                |  |
|  | プレイヤー1    |  | プレイヤー1:    |  |
|  | プレイヤー2    |  | こんにちは！     |  |
|  | プレイヤー3    |  |                |  |
|  |                |  | プレイヤー2:    |  |
|  |                |  | よろしく！      |  |
|  |                |  |                |  |
|  |                |  | [          ]   |  |
|  |                |  |    送信        |  |
|  +----------------+  +----------------+  |
|                                          |
|  +------------------------------------+  |
|  |           開始する                  |  |
|  +------------------------------------+  |
|                                          |
+------------------------------------------+
```

### 4. ゲーム画面
#### 4.1 出題者画面
```
+------------------------------------------+
|                                          |
|  お題: [        ]                        |
|  +----------------+                      |
|  |    決定        |                      |
|  +----------------+                      |
|                                          |
|  +------------------------------------+  |
|  |                                    |  |
|  |                                    |  |
|  |           描画キャンバス            |  |
|  |                                    |  |
|  |                                    |  |
|  +------------------------------------+  |
|                                          |
|  +---+  +---+  +---+  +---+  +--------+ |
|  |ペン|  |消|  |色|  |太|  |クリア   | |
|  +---+  +---+  +---+  +---+  +--------+ |
|                                          |
|  残り時間: 00:00                         |
|                                          |
|  +----------------+  +----------------+  |
|  |    チャット     |  |    スコア      |  |
|  |                |  |                |  |
|  | プレイヤー1:    |  | プレイヤー1: 10 |  |
|  | こんにちは！     |  | プレイヤー2: 15 |  |
|  |                |  | プレイヤー3: 20 |  |
|  | [          ]   |  |                |  |
|  |    送信        |  |                |  |
|  +----------------+  +----------------+  |
|                                          |
+------------------------------------------+
```

#### 4.2 回答者画面
```
+------------------------------------------+
|                                          |
|  +------------------------------------+  |
|  |                                    |  |
|  |                                    |  |
|  |           描画キャンバス            |  |
|  |                                    |  |
|  |                                    |  |
|  +------------------------------------+  |
|                                          |
|  回答: [                            ]    |
|                                          |
|  残り時間: 00:00                         |
|                                          |
|  +----------------+  +----------------+  |
|  |    チャット     |  |    スコア      |  |
|  |                |  |                |  |
|  | プレイヤー1:    |  | プレイヤー1: 10 |  |
|  | こんにちは！     |  | プレイヤー2: 15 |  |
|  |                |  | プレイヤー3: 20 |  |
|  | [          ]   |  |                |  |
|  |    送信        |  |                |  |
|  +----------------+  +----------------+  |
|                                          |
+------------------------------------------+
```

### 5. 結果表示画面
```
+------------------------------------------+
|                                          |
|  +------------------------------------+  |
|  |           ラウンド結果              |  |
|  +------------------------------------+  |
|                                          |
|  正解者: プレイヤー2                     |
|  獲得ポイント: 15                        |
|                                          |
|  +------------------------------------+  |
|  |           スコアボード              |  |
|  |                                    |  |
|  | 1位: プレイヤー3 (20点)            |  |
|  | 2位: プレイヤー2 (15点)            |  |
|  | 3位: プレイヤー1 (10点)            |  |
|  |                                    |  |
|  +------------------------------------+  |
|                                          |
|  +----------------+  +----------------+  |
|  | 次のラウンド    |  | ゲーム終了     |  |
|  +----------------+  +----------------+  |
|                                          |
+------------------------------------------+
```

### 6. ゲーム終了画面
```
+------------------------------------------+
|                                          |
|  +------------------------------------+  |
|  |           最終結果                  |  |
|  +------------------------------------+  |
|                                          |
|  +------------------------------------+  |
|  |           順位表                    |  |
|  |                                    |  |
|  | 1位: プレイヤー3 (50点)            |  |
|  | 2位: プレイヤー2 (45点)            |  |
|  | 3位: プレイヤー1 (40点)            |  |
|  |                                    |  |
|  +------------------------------------+  |
|                                          |
|  +------------------------------------+  |
|  |           ギャラリー                |  |
|  |                                    |  |
|  | +----+  お題: さる                  |  |
|  | |絵1 |  作者: プレイヤー1           |  |
|  | +----+                            |  |
|  |                                    |  |
|  | +----+  お題: りんご                |  |
|  | |絵2 |  作者: プレイヤー2           |  |
|  | +----+                            |  |
|  |                                    |  |
|  | +----+  お題: ねこ                  |  |
|  | |絵3 |  作者: プレイヤー3           |  |
|  | +----+                            |  |
|  |                                    |  |
|  | +----+  お題: いぬ                  |  |
|  | |絵4 |  作者: プレイヤー1           |  |
|  | +----+                            |  |
|  |                                    |  |
|  | +----+  お題: うさぎ                |  |
|  | |絵5 |  作者: プレイヤー2           |  |
|  | +----+                            |  |
|  |                                    |  |
|  | +----+  お題: きりん                |  |
|  | |絵6 |  作者: プレイヤー3           |  |
|  | +----+                            |  |
|  |                                    |  |
|  +------------------------------------+  |
|                                          |
|  +----------------+  +----------------+  |
|  | 新しいゲーム   |  | トップページ    |  |
|  +----------------+  +----------------+  |
|                                          |
+------------------------------------------+
``` 